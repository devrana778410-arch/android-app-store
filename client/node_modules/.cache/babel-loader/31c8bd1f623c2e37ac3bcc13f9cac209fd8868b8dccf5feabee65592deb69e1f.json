{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{Button}from'react-bootstrap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AppDetail=()=>{const{id}=useParams();const[app,setApp]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchApp=async()=>{try{const apiBaseUrl=process.env.REACT_APP_API_BASE_URL||'http://localhost:5000';const response=await axios.get(\"\".concat(apiBaseUrl,\"/api/apps/\").concat(id));setApp(response.data);setLoading(false);}catch(error){console.error('Error fetching app details:',error);setLoading(false);}};fetchApp();},[id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading text-2xl\",children:\"Loading app details...\"})});}if(!app){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDCF1\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:\"App not found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"The app you're looking for doesn't exist.\"}),/*#__PURE__*/_jsx(Link,{to:\"/apps\",className:\"btn-primary\",children:\"Browse All Apps\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/apps\",className:\"inline-flex items-center text-blue-600 hover:text-blue-800 mb-6 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\u2190\"}),\" Back to Apps\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-center md:items-start mb-8\",children:[/*#__PURE__*/_jsx(\"img\",{src:app.icon,alt:app.name,className:\"w-32 h-32 rounded-2xl shadow-lg mb-4 md:mb-0 md:mr-8\",onError:e=>{e.target.src='https://via.placeholder.com/128x128?text=App';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center md:text-left flex-1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-800 mb-2\",children:app.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-blue-600 font-medium mb-4\",children:app.category}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center md:justify-start mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-500 text-2xl mr-2\",children:\"\\u2B50\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-gray-800 mr-4\",children:app.rating}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"(\",app.downloads,\" downloads)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap justify-center md:justify-start gap-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCCF \",app.size]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDD04 v\",app.version]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium \".concat(app.price==='Free'?'text-green-600':'text-gray-800'),children:[\"\\uD83D\\uDCB0 \",app.price]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"About this app\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 text-lg leading-relaxed\",children:app.description})]}),app.screenshots&&app.screenshots.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"Screenshots\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:app.screenshots.map((screenshot,index)=>/*#__PURE__*/_jsx(\"img\",{src:screenshot,alt:\"Screenshot \".concat(index+1),className:\"w-full rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200\",onError:e=>{e.target.src='https://via.placeholder.com/300x200?text=Screenshot';}},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 p-6 bg-gray-50 rounded-xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:\"Developer\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 text-lg\",children:[\"\\uD83D\\uDC68\\u200D\\uD83D\\uDCBB \",app.developer]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(Button,{variant:\"success\",size:\"lg\",className:\"me-3\",onClick:()=>window.open(\"\".concat(process.env.REACT_APP_API_BASE_URL||'http://localhost:5000',\"/api/apps/\").concat(app.id,\"/download\"),'_blank'),disabled:!app.apk_filename,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-download me-2\"}),app.apk_filename?'Download APK':'APK Not Available']})})]})]})});};export default AppDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","axios","Button","jsx","_jsx","jsxs","_jsxs","AppDetail","id","app","setApp","loading","setLoading","fetchApp","apiBaseUrl","process","env","REACT_APP_API_BASE_URL","response","get","concat","data","error","console","className","children","to","src","icon","alt","name","onError","e","target","category","rating","downloads","size","version","price","description","screenshots","length","map","screenshot","index","developer","variant","onClick","window","open","disabled","apk_filename"],"sources":["C:/Users/DEV/Desktop/android-app-store/client/src/pages/AppDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nconst AppDetail = () => {\r\n  const { id } = useParams();\r\n  const [app, setApp] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchApp = async () => {\r\n      try {\r\n        const apiBaseUrl = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\r\n        const response = await axios.get(`${apiBaseUrl}/api/apps/${id}`);\r\n        setApp(response.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching app details:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchApp();\r\n  }, [id]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"loading text-2xl\">Loading app details...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!app) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8 text-center\">\r\n        <div className=\"text-6xl mb-4\">üì±</div>\r\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">App not found</h2>\r\n        <p className=\"text-gray-600 mb-4\">The app you're looking for doesn't exist.</p>\r\n        <Link to=\"/apps\" className=\"btn-primary\">\r\n          Browse All Apps\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        {/* Back button */}\r\n        <Link to=\"/apps\" className=\"inline-flex items-center text-blue-600 hover:text-blue-800 mb-6 transition-colors duration-200\">\r\n          <span className=\"mr-2\">‚Üê</span> Back to Apps\r\n        </Link>\r\n\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-8\">\r\n          {/* App header */}\r\n          <div className=\"flex flex-col md:flex-row items-center md:items-start mb-8\">\r\n            <img\r\n              src={app.icon}\r\n              alt={app.name}\r\n              className=\"w-32 h-32 rounded-2xl shadow-lg mb-4 md:mb-0 md:mr-8\"\r\n              onError={(e) => {\r\n                e.target.src = 'https://via.placeholder.com/128x128?text=App';\r\n              }}\r\n            />\r\n            <div className=\"text-center md:text-left flex-1\">\r\n              <h1 className=\"text-4xl font-bold text-gray-800 mb-2\">{app.name}</h1>\r\n              <p className=\"text-xl text-blue-600 font-medium mb-4\">{app.category}</p>\r\n              <div className=\"flex items-center justify-center md:justify-start mb-4\">\r\n                <span className=\"text-yellow-500 text-2xl mr-2\">‚≠ê</span>\r\n                <span className=\"text-2xl font-bold text-gray-800 mr-4\">{app.rating}</span>\r\n                <span className=\"text-gray-600\">({app.downloads} downloads)</span>\r\n              </div>\r\n              <div className=\"flex flex-wrap justify-center md:justify-start gap-4 text-sm text-gray-600\">\r\n                <span>üìè {app.size}</span>\r\n                <span>üîÑ v{app.version}</span>\r\n                <span className={`font-medium ${app.price === 'Free' ? 'text-green-600' : 'text-gray-800'}`}>\r\n                  üí∞ {app.price}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">About this app</h2>\r\n            <p className=\"text-gray-700 text-lg leading-relaxed\">{app.description}</p>\r\n          </div>\r\n\r\n          {/* Screenshots */}\r\n          {app.screenshots && app.screenshots.length > 0 && (\r\n            <div className=\"mb-8\">\r\n              <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">Screenshots</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {app.screenshots.map((screenshot, index) => (\r\n                  <img\r\n                    key={index}\r\n                    src={screenshot}\r\n                    alt={`Screenshot ${index + 1}`}\r\n                    className=\"w-full rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200\"\r\n                    onError={(e) => {\r\n                      e.target.src = 'https://via.placeholder.com/300x200?text=Screenshot';\r\n                    }}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Developer info */}\r\n          <div className=\"mb-8 p-6 bg-gray-50 rounded-xl\">\r\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Developer</h2>\r\n            <p className=\"text-gray-700 text-lg\">üë®‚Äçüíª {app.developer}</p>\r\n          </div>\r\n\r\n          {/* Download button */}\r\n          <div className=\"text-center\">\r\n          <Button variant=\"success\" size=\"lg\" className=\"me-3\" onClick={() => window.open(`${process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000'}/api/apps/${app.id}/download`, '_blank')} disabled={!app.apk_filename}>\r\n  <i className=\"bi bi-download me-2\"></i>\r\n  {app.apk_filename ? 'Download APK' : 'APK Not Available'}\r\n          </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}