{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Button,Modal,Form,Card,Spinner}from'react-bootstrap';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ChatbotWidget=_ref=>{let{onClose}=_ref;const[isOpen,setIsOpen]=useState(true);const[messages,setMessages]=useState([{text:\"Hi! I'm your AI assistant. I can help you find apps, answer questions about the app store, or provide recommendations. What can I help you with today?\",sender:'bot'}]);const[input,setInput]=useState('');const[isTyping,setIsTyping]=useState(false);const handleSend=async()=>{if(!input.trim())return;const userMessage={text:input,sender:'user'};setMessages(prev=>[...prev,userMessage]);setInput('');setIsTyping(true);try{const apiBaseUrl=process.env.REACT_APP_API_BASE_URL||'http://localhost:5000';const response=await axios.post(\"\".concat(apiBaseUrl,\"/api/chatbot\"),{query:input});const botMessage={text:response.data.response,sender:'bot'};setMessages(prev=>[...prev,botMessage]);}catch(error){console.error('Error sending message to chatbot:',error);const errorMessage={text:'Sorry, I encountered an error. Please try again.',sender:'bot'};setMessages(prev=>[...prev,errorMessage]);}finally{setIsTyping(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSend();}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setIsOpen(true),className:\"position-fixed bottom-0 end-0 m-4 rounded-circle shadow-lg\",style:{width:'60px',height:'60px',zIndex:1050},variant:\"primary\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-chat-dots-fill fs-4\"})}),/*#__PURE__*/_jsxs(Modal,{show:isOpen,onHide:()=>{setIsOpen(false);if(onClose)onClose();},size:\"lg\",centered:true,className:\"chat-modal\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"bg-primary text-white\",children:/*#__PURE__*/_jsxs(Modal.Title,{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-robot me-2\"}),\"AI App Store Assistant\"]})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"p-0\",style:{height:'500px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column h-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1 p-3 overflow-auto bg-light\",children:[messages.map((msg,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"d-flex mb-3 \".concat(msg.sender==='user'?'justify-content-end':'justify-content-start'),children:/*#__PURE__*/_jsx(Card,{className:\"shadow-sm \".concat(msg.sender==='user'?'bg-primary text-white':'bg-white'),style:{maxWidth:'70%'},children:/*#__PURE__*/_jsx(Card.Body,{className:\"p-3\",children:/*#__PURE__*/_jsx(Card.Text,{className:\"mb-0 small\",children:msg.text})})})},index)),isTyping&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-start mb-3\",children:/*#__PURE__*/_jsx(Card,{className:\"shadow-sm bg-white\",style:{maxWidth:'70%'},children:/*#__PURE__*/_jsx(Card.Body,{className:\"p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\",className:\"me-2\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"AI is typing...\"})]})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border-top bg-white\",children:[/*#__PURE__*/_jsx(Form,{onSubmit:e=>{e.preventDefault();handleSend();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:input,onChange:e=>setInput(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Ask me about apps, recommendations, or anything else...\",className:\"me-2\",disabled:isTyping}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",disabled:!input.trim()||isTyping,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-send-fill\"})})]})}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted mt-2 d-block\",children:\"Try asking: \\\"What are the best productivity apps?\\\" or \\\"Recommend games for kids\\\"\"})]})]})})]})]});};export default ChatbotWidget;","map":{"version":3,"names":["React","useState","useEffect","axios","Button","Modal","Form","Card","Spinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ChatbotWidget","_ref","onClose","isOpen","setIsOpen","messages","setMessages","text","sender","input","setInput","isTyping","setIsTyping","handleSend","trim","userMessage","prev","apiBaseUrl","process","env","REACT_APP_API_BASE_URL","response","post","concat","query","botMessage","data","error","console","errorMessage","handleKeyPress","e","key","shiftKey","preventDefault","children","onClick","className","style","width","height","zIndex","variant","show","onHide","size","centered","Header","closeButton","Title","Body","map","msg","index","maxWidth","Text","animation","onSubmit","Control","type","value","onChange","target","onKeyPress","placeholder","disabled"],"sources":["C:/Users/DEV/Desktop/android-app-store/client/src/components/ChatbotWidget.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, Modal, Form, Card, Spinner } from 'react-bootstrap';\r\n\r\nconst ChatbotWidget = ({ onClose }) => {\r\n  const [isOpen, setIsOpen] = useState(true);\r\n  const [messages, setMessages] = useState([\r\n    { text: \"Hi! I'm your AI assistant. I can help you find apps, answer questions about the app store, or provide recommendations. What can I help you with today?\", sender: 'bot' }\r\n  ]);\r\n  const [input, setInput] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const userMessage = { text: input, sender: 'user' };\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInput('');\r\n    setIsTyping(true);\r\n\r\n    try {\r\n      const apiBaseUrl = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\r\n      const response = await axios.post(`${apiBaseUrl}/api/chatbot`, { query: input });\r\n      const botMessage = { text: response.data.response, sender: 'bot' };\r\n      setMessages(prev => [...prev, botMessage]);\r\n    } catch (error) {\r\n      console.error('Error sending message to chatbot:', error);\r\n      const errorMessage = { text: 'Sorry, I encountered an error. Please try again.', sender: 'bot' };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Floating Chat Button */}\r\n      <Button\r\n        onClick={() => setIsOpen(true)}\r\n        className=\"position-fixed bottom-0 end-0 m-4 rounded-circle shadow-lg\"\r\n        style={{ width: '60px', height: '60px', zIndex: 1050 }}\r\n        variant=\"primary\"\r\n      >\r\n        <i className=\"bi bi-chat-dots-fill fs-4\"></i>\r\n      </Button>\r\n\r\n      {/* Chat Modal */}\r\n      <Modal\r\n        show={isOpen}\r\n        onHide={() => {\r\n          setIsOpen(false);\r\n          if (onClose) onClose();\r\n        }}\r\n        size=\"lg\"\r\n        centered\r\n        className=\"chat-modal\"\r\n      >\r\n        <Modal.Header closeButton className=\"bg-primary text-white\">\r\n          <Modal.Title className=\"d-flex align-items-center\">\r\n            <i className=\"bi bi-robot me-2\"></i>\r\n            AI App Store Assistant\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n\r\n        <Modal.Body className=\"p-0\" style={{ height: '500px' }}>\r\n          <div className=\"d-flex flex-column h-100\">\r\n            {/* Messages Area */}\r\n            <div className=\"flex-grow-1 p-3 overflow-auto bg-light\">\r\n              {messages.map((msg, index) => (\r\n                <div key={index} className={`d-flex mb-3 ${msg.sender === 'user' ? 'justify-content-end' : 'justify-content-start'}`}>\r\n                  <Card className={`shadow-sm ${msg.sender === 'user' ? 'bg-primary text-white' : 'bg-white'}`} style={{ maxWidth: '70%' }}>\r\n                    <Card.Body className=\"p-3\">\r\n                      <Card.Text className=\"mb-0 small\">\r\n                        {msg.text}\r\n                      </Card.Text>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </div>\r\n              ))}\r\n\r\n              {/* Typing Indicator */}\r\n              {isTyping && (\r\n                <div className=\"d-flex justify-content-start mb-3\">\r\n                  <Card className=\"shadow-sm bg-white\" style={{ maxWidth: '70%' }}>\r\n                    <Card.Body className=\"p-3\">\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\r\n                        <small className=\"text-muted\">AI is typing...</small>\r\n                      </div>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Input Area */}\r\n            <div className=\"p-3 border-top bg-white\">\r\n              <Form onSubmit={(e) => { e.preventDefault(); handleSend(); }}>\r\n                <div className=\"d-flex\">\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={input}\r\n                    onChange={(e) => setInput(e.target.value)}\r\n                    onKeyPress={handleKeyPress}\r\n                    placeholder=\"Ask me about apps, recommendations, or anything else...\"\r\n                    className=\"me-2\"\r\n                    disabled={isTyping}\r\n                  />\r\n                  <Button\r\n                    type=\"submit\"\r\n                    variant=\"primary\"\r\n                    disabled={!input.trim() || isTyping}\r\n                  >\r\n                    <i className=\"bi bi-send-fill\"></i>\r\n                  </Button>\r\n                </div>\r\n              </Form>\r\n              <small className=\"text-muted mt-2 d-block\">\r\n                Try asking: \"What are the best productivity apps?\" or \"Recommend games for kids\"\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatbotWidget;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}