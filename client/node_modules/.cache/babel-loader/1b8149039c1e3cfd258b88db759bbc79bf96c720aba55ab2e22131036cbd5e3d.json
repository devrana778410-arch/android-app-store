{"ast":null,"code":"import _objectSpread from\"C:/Users/DEV/Desktop/android-app-store/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Container,Row,Col,Card,Form,Button,Alert,Spinner}from'react-bootstrap';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Login=()=>{const[isLogin,setIsLogin]=useState(true);const[formData,setFormData]=useState({username:'',password:'',email:''});const[loading,setLoading]=useState(false);const[message,setMessage]=useState('');const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setMessage('');try{const endpoint=isLogin?'/api/login':'/api/register';const response=await axios.post(\"http://localhost:5000\".concat(endpoint),formData);if(isLogin){localStorage.setItem('user',JSON.stringify(response.data.user));setMessage('Login successful!');}else{setMessage('Registration successful! Please login.');setIsLogin(true);}}catch(error){var _error$response,_error$response$data;setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'An error occurred');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{className:\"py-5\",children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Card,{className:\"shadow-lg\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-primary text-white text-center\",children:/*#__PURE__*/_jsx(\"h3\",{children:isLogin?'Login':'Register'})}),/*#__PURE__*/_jsxs(Card.Body,{className:\"p-4\",children:[message&&/*#__PURE__*/_jsx(Alert,{variant:message.includes('successful')?'success':'danger',children:message}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"username\",value:formData.username,onChange:handleChange,required:true,placeholder:\"Enter username\"})]}),!isLogin&&/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true,placeholder:\"Enter email\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true,placeholder:\"Enter password\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",className:\"w-100\",disabled:loading,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\",className:\"me-2\"}),isLogin?'Logging in...':'Registering...']}):isLogin?'Login':'Register'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-3\",children:/*#__PURE__*/_jsx(Button,{variant:\"link\",onClick:()=>{setIsLogin(!isLogin);setMessage('');setFormData({username:'',password:'',email:''});},children:isLogin?\"Don't have an account? Register\":'Already have an account? Login'})})]})]})})})});};export default Login;","map":{"version":3,"names":["React","useState","Container","Row","Col","Card","Form","Button","Alert","Spinner","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","isLogin","setIsLogin","formData","setFormData","username","password","email","loading","setLoading","message","setMessage","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","endpoint","response","post","concat","localStorage","setItem","JSON","stringify","data","user","error","_error$response","_error$response$data","className","children","md","Header","Body","variant","includes","onSubmit","Group","Label","Control","type","onChange","required","placeholder","disabled","animation","size","onClick"],"sources":["C:/Users/DEV/Desktop/android-app-store/client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Container, Row, Col, Card, Form, Button, Alert, Spinner } from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nconst Login = () => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    password: '',\r\n    email: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      const endpoint = isLogin ? '/api/login' : '/api/register';\r\n      const response = await axios.post(`http://localhost:5000${endpoint}`, formData);\r\n\r\n      if (isLogin) {\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n        setMessage('Login successful!');\r\n      } else {\r\n        setMessage('Registration successful! Please login.');\r\n        setIsLogin(true);\r\n      }\r\n    } catch (error) {\r\n      setMessage(error.response?.data?.error || 'An error occurred');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className=\"py-5\">\r\n      <Row className=\"justify-content-center\">\r\n        <Col md={6}>\r\n          <Card className=\"shadow-lg\">\r\n            <Card.Header className=\"bg-primary text-white text-center\">\r\n              <h3>{isLogin ? 'Login' : 'Register'}</h3>\r\n            </Card.Header>\r\n            <Card.Body className=\"p-4\">\r\n              {message && (\r\n                <Alert variant={message.includes('successful') ? 'success' : 'danger'}>\r\n                  {message}\r\n                </Alert>\r\n              )}\r\n\r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Username</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    name=\"username\"\r\n                    value={formData.username}\r\n                    onChange={handleChange}\r\n                    required\r\n                    placeholder=\"Enter username\"\r\n                  />\r\n                </Form.Group>\r\n\r\n                {!isLogin && (\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Email</Form.Label>\r\n                    <Form.Control\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      value={formData.email}\r\n                      onChange={handleChange}\r\n                      required\r\n                      placeholder=\"Enter email\"\r\n                    />\r\n                  </Form.Group>\r\n                )}\r\n\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Password</Form.Label>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    required\r\n                    placeholder=\"Enter password\"\r\n                  />\r\n                </Form.Group>\r\n\r\n                <Button\r\n                  variant=\"primary\"\r\n                  type=\"submit\"\r\n                  className=\"w-100\"\r\n                  disabled={loading}\r\n                >\r\n                  {loading ? (\r\n                    <>\r\n                      <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\r\n                      {isLogin ? 'Logging in...' : 'Registering...'}\r\n                    </>\r\n                  ) : (\r\n                    isLogin ? 'Login' : 'Register'\r\n                  )}\r\n                </Button>\r\n              </Form>\r\n\r\n              <div className=\"text-center mt-3\">\r\n                <Button\r\n                  variant=\"link\"\r\n                  onClick={() => {\r\n                    setIsLogin(!isLogin);\r\n                    setMessage('');\r\n                    setFormData({ username: '', password: '', email: '' });\r\n                  }}\r\n                >\r\n                  {isLogin ? \"Don't have an account? Register\" : 'Already have an account? Login'}\r\n                </Button>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}